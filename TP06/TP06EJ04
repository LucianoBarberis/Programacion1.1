#include <stdio.h>
#include <stdlib.h>
#define FILA 12
#define DATA 5
#define MOZO 6

void input(int arr[FILA][DATA]);
void personasPorMozo(int arr[FILA][DATA], int mozos[MOZO]);
int totalVentas(int arr[FILA][DATA]);

int main() {
    int mesas[FILA][DATA], mozos[MOZO], i = 0, cantFact = 0;
    int total;

    input(mesas);
	printf("\n ---Datos de todas las mesas---\n");
    while(i < FILA && mesas[i][0] != 0) {
        printf("N de factura: %d --- N de mozo: %d --- N de mesa: %d --- Comensales: %d --- Monto: $%d\n",
               mesas[i][0], mesas[i][1], mesas[i][2], mesas[i][3], mesas[i][4]);
        i++;
        cantFact++;
    }

    personasPorMozo(mesas, mozos);
    
	printf("\n");
    for(i = 0; i < MOZO; i++) {
        if(mozos[i] != 0){
            printf("N Mozo: %d --- Cantidad de comensales atendidos: %d \n", i + 1, mozos[i]);    
        }
    }
    
    printf("\n");
    printf("Cantidad de facturas: %d \n", cantFact);
    
    total = totalVentas(mesas);
    printf("Total de ventas: $%d", total);
    return 0;
}

void input(int arr[FILA][DATA]) {
    int i, fact, salir = 0;
    
    for(i = 0; i < FILA; i++) {
        do {
            printf("Ingrese el Num de factura: ");
            scanf("%d", &fact);
            if(fact == 0) {
                salir = 1;
            }
            arr[i][0] = fact;
        } while(arr[i][0] < 0);

        if(salir == 1) {
            break;
        }

        do {
            printf("Ingrese el Num de mozo: ");
            scanf("%d", &arr[i][1]);
        } while(arr[i][1] > MOZO || arr[i][1] < 1);

        do {
            printf("Ingrese el Num de mesa: ");
            scanf("%d", &arr[i][2]);
        } while(arr[i][2] > 12 || arr[i][2] < 0);

        do {
            printf("Ingrese la cantidad de comensales por mesa: ");
            scanf("%d", &arr[i][3]);
        } while(arr[i][3] < 0);

        do {
            printf("Ingrese el monto total: $");
            scanf("%d", &arr[i][4]);
        } while(arr[i][4] < 0);
    }
}

void personasPorMozo(int arr[FILA][DATA], int mozos[MOZO]) {
    int i = 0;
    int nMozo, nPersonas;

    for(i = 0; i < MOZO; i++) {
        mozos[i] = 0;
    }

    i = 0;
    while(i < FILA && arr[i][0] != 0) {
        nMozo = arr[i][1];
        nPersonas = arr[i][3];

        mozos[nMozo - 1] += nPersonas;
        i++;
    }
}

int totalVentas(int arr[FILA][DATA]) {
	int total = 0, i;
	while(i < FILA && arr[i][0] != 0) {
    	total += arr[i][4];
    	i++;
    }
    for(i = 0; i < Fil)
	return total;	
};
